<!DOCTYPE html>
	<html>
	<head>
		<title>Counterpro-DUCK-tive Chat</title>
		<link rel="stylesheet" href="../css/chat.css"/>
	</head>
	<body>
		<div class="wrapper">
			<div class="grid-container">
				<div class="head" id="h">Information</div>
				<div class="department" id="de">
					H
					<br>
					G
				</div>
				<div class="division" id="di">
					J
					<br>
					K
				</div>  
				<div class="chat" id="c">
					<div class="chatlog">
			          <div class="container darker">
			            <img src="../user_icons/casit.png" alt="Avatar" class="right">
			            <p>Hello. How are you today?</p>
			            <span class="username">CASIT</span>
			            <span class="timestamp">11:05</span>
			          </div>

				        <div class="container darker">
				          <img src="../user_icons/duck.png" alt="Avatar" class="right">
				          <p>Hey! I'm fine. Thanks for asking!</p>
				          <span class="username">Student</span>
				          <span class="timestamp">11:07</span>
				        </div>
				    </div>
				</div>
				<div class="foot" id="f">
					<div class="messagebox">
				      <form onsubmit="sendMessage(this);">
				        <input id="message" type="text" name="message">
				        <input id="send" type="submit" value="Send">
				      </form>
				    </div>
				</div>
			</div>
		</div>
	</body>
	<footer>
		<!-- <script src="../scripts/chat.js"></script> -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
		<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
		<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
		<script type="text/javascript">
			function appendToDom(parentID, childID){
				let parentNode = document.getElementByID(parentID);

			}

			function sendMessage(input) {
				event.preventDefault(); // prevent form submission (i.e. prevent refreshing page)

				msg = input[0].value;
				input[0].value = "";
				// msg = "This is a Test Message"
				// TODO: msg, username, timestamp
				var div = document.createElement("div");
				div.setAttribute("class","container darker");

				var icon = document.createElement("img");
				icon.setAttribute("class","right");
				icon.setAttribute("src","../user_icons/casit.png");
				icon.setAttribute("alt","Avatar");

				// todo make it an image
				var p = document.createElement("p")
				p.appendChild(document.createTextNode(msg))

				var username = document.createElement("span")
				username.appendChild(document.createTextNode("USERNAME"))
				username.setAttribute("class","username");

				var timestamp = document.createElement("span");
				timestamp.appendChild(document.createTextNode(new Date().toLocaleTimeString()))
				timestamp.setAttribute("class","timestamp");

				div.appendChild(icon)
				div.appendChild(p)
				div.appendChild(username)
				div.appendChild(timestamp)

				// Appends New Message to Chat Interface
				chatlog = document.getElementsByClassName("chatlog")[0];
				console.log(document.getElementsByClassName("chatlog")[0]);
				chatlog.appendChild(div)
				$("#c").animate({
					scrollTop: document.body.scrollHeight
				}, "fast");
			}

			var departments = ["TSD", "CASIT", "NTS"];
			var divisions = {};
			divisions[departments[0]] = ["Noah", "Jeremiah", "Cody", "Derek"];
			divisions[departments[1]] = ["Billy", "Hammond", "Gertrude"];
			divisions[departments[2]] = ["Hortence", "Jeredith", "Merideth"];
			$(document).ready(function(){
				// console.log(divisions);

			});
		</script>
		<script type="text/javascript">

		  
		  
		</script>
	</footer>
</html>
